window.flexDOM=null;class FlexDOM{constructor(e){this.root=document.querySelector(e),this.nodes={...this.nodes,[FlexDOM.key()]:{current:this.root,parent:this.root.parentNode}}}render(e){const t=e();this.add(this.root,t)}get(e){return this.nodes[e]}add(e,t){if(!e)throw new Error("Parent doesn't exists");if(!t)throw new Error("Child doesn't exists");e.appendChild(t),this.nodes[t.key]={parent:e,current:t}}replace(e,t){const{parent:r,current:n}=this.get(e);t.key=e,r.replaceChild(t,n),this.nodes[e]={...this.nodes[e],current:t}}static key(e=10){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_-#@";let r="";for(let n=0;n<e;n++)r+=t.charAt(Math.floor(Math.random()*t.length));return r}}export const useState=e=>{let t=e,r=[];return[(e,n=!1)=>{const o="function"==typeof e?e(t):e;o!==t&&(t=o,n||r.forEach(([e,r,n,o])=>{window.flexDOM.replace(o,e({...n,...r(t)}))}))},(e,n=(e=>e),o={})=>{const s=e({...o,...n(t)});return r.push([e,n,o,s.key]),s}]};export function c(e,t=[],r={}){const n=document.createElement(e);return n.key=FlexDOM.key(),Object.entries(r).forEach(([e,t])=>{const r="function"==typeof t?e.toLowerCase():e;n[r]=t}),"string"==typeof t?n.textContent=t:Array.isArray(t)&&t.forEach(e=>{window.flexDOM.add(n,e)}),n};export function app(e,t){window.flexDOM=new FlexDOM(e),window.flexDOM.render(t)};
